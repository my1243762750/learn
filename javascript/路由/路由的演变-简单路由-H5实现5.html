<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <style>
        .warp{
            width:400px;
            height:400px;
            border:1px solid grey;
            margin:0 auto;
        }
        .nav{
            border-bottom:1px solid grey;
        }
        .nav li{
            display:inline-block;
            list-style:none;
        }
        .nav li a{
            display:inline-block;
            text-decoration: none;
            padding:10px 15px;
        }
        .router{
            padding:20px;
        }
        a{
            cursor: pointer;
        }
    </style>
</head>
<body>
<section class="warp">
    <div class="nav">
        <ul>
            <li><a href="javascript:void(0)" data-path="index">首页</a></li>
            <li><a href="javascript:void(0)" data-path="news">新闻</a></li>
            <li><a href="javascript:void(0)" data-path="about">关于</a></li>
        </ul>
    </div>
    <div id="router" class="router">
        <!-- 内容加载区域 -->
    </div>
</section>
<script src="../../jquery/lib/jquery-1.9.1.min.js"></script>
<script>
    ;(function(){

        var router = [
            {
                'path':'index',
                'url':'./main.html'
            },
            {
                'path':'news',
                'url':'./news.html'
            },
            {
                'path':'about',
                'url':'./about.html'
            }
        ];

        //改变页面
        function display_page(url){
            $('#router').load(url)
        }

        $('a').on('click',function(){
            var path = $(this).data('path');
            for(var i in router){
                if(router[i].path == path){
                    display_page(router[i].url);
                    history.pushState(router[i].url,null,'#/'+router[i].path);
                }
            }
        })
        window.addEventListener('popstate',function(e){
            var url = e.state;
            display_page(url);

        });
        /*window.addEventListener('load',function(){
            var path = location.hash.slice(2) || '/index';
            for(var i in router){//刷新 加载
                if(router[i].path == path){
                    display_page(router[i].url);
                    history.replaceState(router[i].url,null,'#/' + path);
                    break;
                }
                if(i == router.length-1){//重定向
                    display_page(router[0].url);
                    history.replaceState(router[0].url,null,'#/' + router[0].path);
                }
            }
        });*/

    })();
</script>
</body>
</html>