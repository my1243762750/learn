<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>js迭代的方法</title>
</head>
<body>
<section>
    <h1>数组的一些迭代方法</h1>
    <ul>
        <li>every</li>
        <li>filter</li>
    </ul>
</section>
<hr>
<script>
    // 例子1: 判断数组里面的元素是否全部是偶数
    var list1 = [1, 4, 5, 6, 7, 8, 19];
    var list2 = [2, 4, 6, 8, 10, 12, 14];
    // 方式1
    function isAllEven(array) {
        for (var i = 0, aryLength = array.length; i < aryLength; i++) {
            if (array[i] % 2 != 0) {
                return false;
            }
        }
        return true;
    }
    var result1 = isAllEven(list2);
    console.log(result1);
    // 方式2 使用every()方法
    function checkIsEven(value, index, array) {
        return value % 2 === 0;
    }
    var result2 = list2.every(checkIsEven);
    console.log(result2);

    // 例子2: 过滤掉小于某个数的数组元素
    // 方式1：略
    // 方式2：
    var aList = [1, 2, 14, 15, 16, 6];
    function isBigEnough(value, index, array) {
        return value >= 10;
    }
    var filterResult = aList.filter(isBigEnough);
    console.log(aList, filterResult);

    // 例子3: 去掉数组里面重复的元素
    function fnDuplicateRemove(ary) {
        var ary = ary || [],
                copyAry = [],
                obj = {};
        for (var i = 0, aryLength = ary.length; i < aryLength; i++) {
            obj.value = ary[i];
            if (!copyAry.some(function (value) {//这里的this指的是obj
                        return value === this.value;
                    }, obj)) {
                copyAry.push(obj.value);
            }
        }
        return copyAry.sort(function (value1, value2) {
            if (value1 < value2) {
                return -1;
            } else if (value1 > value2) {
                return 1;
            } else {
                return 0;
            }
        });
    }

    var aList3 = [2, 4, 5, 6, 7, 54, 3, 2, 1, 3, 4];
    var aList31 = ['a','c','v','e','f'];
    console.log("例子3", fnDuplicateRemove(aList31));
</script>
</body>
</html>