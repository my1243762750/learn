<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title></title>
    <style>
        body {
            margin: 0;
            padding: 0;
        }

        #warp {
            display: flex;
            flex-direction: column;
        }

        #warp .row-item{
            display: flex;
        }

        #warp .col-item{
            background-color: #ccc;
        }
    </style>
</head>
<body>
<section id="warp">
</section>
<script>
    var screenObj = {
        fnGetVisualLength: function () {
            var clientWidth = 0,//浏览器可视内容宽度
                    clientHeight = 0;//浏览器所有内容高度

            if (document.compatMode === "CSS1Compat") {//strict mode
                clientWidth = document.documentElement.clientWidth;
                clientHeight = document.documentElement.clientHeight;
            } else if (document.compatMode === "BackCompat") {//quirks mode
                clientWidth = document.body.clientWidth;
                clientHeight = document.body.clientHeight;
            } else {
                console.log("无法获取浏览器尺寸");
            }
            return {
                clientWidth: clientWidth,
                clientHeight: clientHeight
            }
        },
        fnCreateModule: function (dom) {
            console.log(this.fnGetVisualLength().clientWidth);
            var aRowList = [],
                    aColList = [],
                    nRow = 6,
                    nCol = 10,
                    nRowSpace = 1,
                    nColSpace = 40,
                    clientObj = this.fnGetVisualLength(),
                    width = (clientObj.clientWidth) / nCol,
                    height = clientObj.clientHeight / nRow;
            for (var i = 0; i < nRow; i++) {
                for (var j = 0; j < nCol; j++) {
                    aColList.push('<div class="col-item" style="' +
                            'margin: 0 ' + nRowSpace + 'px;' +
                            'width: ' + width + 'px;' +
                            '"></div>');
                }

                aRowList.push('<div class="row-item" style="' +
                        'margin-bottom: ' + nColSpace + 'px;' +
                        'height:' + height + 'px;' +
                        '">' + aColList.join('') + '</div>');
                aColList = [];
            }
            dom.innerHTML = aRowList.join('');
        }
    };
    var dWarp = document.getElementById("warp"),
            clientObj = screenObj.fnGetVisualLength();
    dWarp.style.width = clientObj.clientWidth + "px";
    dWarp.style.height = clientObj.clientHeight + "px";
    dWarp.style.background = "gray";
    screenObj.fnCreateModule(dWarp);
</script>
</body>
</html>