<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <style>
        .warp {
            margin-right: 10px;
            float: left;
            width: 400px;
            height: 400px;
            border: solid 1px red;
        }

        .drag-img {
            margin-top: 100px;
            margin-left: 100px;
        }
    </style>
</head>
<body>
<section>
    <!--<h1>Internet Explorer 9+, Firefox, Opera, Chrome, 和 Safari 支持拖动。
        注意:Safari 5.1.2不支持拖动.</h1>-->
    <h3>拖动图片试试</h3>
    <div class="warp" id="warp1">
        <img class="drag-img" id="img1" src="images/lock.png" alt="lock" draggable="true" width="200" height="200">
    </div>
    <div class="warp" id="warp2"></div>
    <div class="warp" id="warp3"></div>
</section>
<script>
    class DragEl {
        constructor(el) {
            this.el = el;
        }

        start() {
            this.el.ondragstart = (event) => {
                console.log('start');
                event.dataTransfer.setData('id', event.target.id);
            }
        }
    }

    class DragContainerEl {
        constructor(el) {
            this.el = el;
        }

        drop() {
            this.el.ondrop = (event) => {
                const id = event.dataTransfer.getData('id');
                event.target.appendChild(document.getElementById(id));
                console.log('drop');
            }
        }

        over() {
            this.el.ondragover = (event) => {
                event.preventDefault();
                console.log('over');
            }
        }

        init() {
            this.drop();
            this.over();
        }
    }

    const dragEl = new DragEl(document.getElementById('img1'));
    const containers = document.getElementsByClassName('warp');
    for (let i = 0; i < containers.length; i++) {
        const dragContainerEl = new DragContainerEl(containers[i]);
        dragContainerEl.init();
    }
    dragEl.start();
</script>
</body>
</html>